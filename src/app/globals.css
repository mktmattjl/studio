
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Heroic Fantasy - Light Cream/Beige Theme */
    --background: 40 55% 88%; /* Warm Cream/Beige (approx #EDE6D5) */
    --foreground: 30 25% 18%; /* Darker Sepia/Brown (approx #423B36) - Enhanced Contrast */

    --card: 35 35% 70%; /* Darker Light Brown (approx #C7BBAF) - for Content Cards */
    --card-foreground: 30 25% 12%; /* Even Darker Sepia/Brown for contrast on cards (approx #312B26) */

    --popover: 35 35% 70%; /* Consistent with card - Dark Wood appearance for tooltips */
    --popover-foreground: 40 55% 95%; /* Very Light Cream for text on dark popover - Parchment text */

    --primary: 30 30% 30%; /* Dark Brown (Main CTA, Active Nav) */
    --primary-foreground: 40 55% 95%; /* Very Light Cream (for text on dark brown) */
    
    --secondary: 145 60% 40%; /* Emerald Green (secondary buttons, highlights) */
    --secondary-foreground: 40 55% 95%; /* Very Light Cream (for text on green) */

    --muted: 40 40% 80%; /* Darker shade of background cream (approx #DCD3BF) */
    --muted-foreground: 30 20% 35%; /* Muted Brown/Gray (approx #73675F) - Enhanced Contrast */

    --accent: 270 50% 55%; /* Amethyst Purple (for hovers, some accents) */
    --accent-foreground: 40 55% 95%; /* Very Light Cream (for text on purple) */

    --destructive: 0 70% 45%; /* Darker, less saturated Ruby Red */
    --destructive-foreground: 40 55% 95%; /* Very Light Cream */

    --border: 35 25% 60%; /* Muted Wood Brown (approx #B2A194) - Slightly Darker for definition */
    --input: 40 60% 96%; /* Very Light Cream for input fields (approx #F9F5EF) */
    --input-foreground: 30 25% 20%; /* Dark Sepia/Brown */
    --ring: 30 30% 40%; /* Dark Brown - slightly lighter for focus */
    
    --radius: 0.375rem; 

    /* Custom Thematic Colors - Heroic Fantasy */
    --gold-accent: 45 70% 50%; /* Gold/Bronze (approx #D9A626) */
    --xp-bar-color: 145 60% 40%; /* Emerald Green (same as secondary) */
    
    --parchment-bg: 40 45% 82%; /* Aged Parchment for event blocks (approx #E0D5C0) */
    --parchment-text: 30 30% 20%;   /* Darkest Brown (approx #4D4139) */

    /* Chart Colors - Adjusted for Heroic Fantasy Light Theme */
    --chart-1: 30 30% 30%;  /* Dark Brown (Primary) */
    --chart-2: 145 60% 40%;  /* Emerald Green (Secondary) */
    --chart-3: 270 50% 55%;  /* Amethyst Purple (Accent) */
    --chart-4: 0 65% 50%;    /* Ruby Red (Destructive-like for charts) */
    --chart-5: 45 70% 50%;   /* Gold/Bronze */
  }

  .dark { /* Using .dark as the active class, but defining light theme colors */
    --background: 40 55% 88%; 
    --foreground: 30 25% 18%; 

    --card: 35 35% 70%; 
    --card-foreground: 30 25% 12%;

    --popover: 35 35% 70%; 
    --popover-foreground: 40 55% 95%;

    --primary: 30 30% 30%; 
    --primary-foreground: 40 55% 95%;
    
    --secondary: 145 60% 40%;
    --secondary-foreground: 40 55% 95%;

    --muted: 40 40% 80%;
    --muted-foreground: 30 20% 35%;

    --accent: 270 50% 55%;
    --accent-foreground: 40 55% 95%;

    --destructive: 0 70% 45%;
    --destructive-foreground: 40 55% 95%;

    --border: 35 25% 60%;
    --input: 40 60% 96%;
    --input-foreground: 30 25% 20%;
    --ring: 30 30% 40%;
    
    --radius: 0.375rem;

    /* Custom Thematic Colors */
    --gold-accent: 45 70% 50%;
    --xp-bar-color: 145 60% 40%;
    --parchment-bg: 40 45% 82%;
    --parchment-text: 30 30% 20%;

    /* Chart Colors */
    --chart-1: 30 30% 30%;  
    --chart-2: 145 60% 40%;  
    --chart-3: 270 50% 55%;  
    --chart-4: 0 65% 50%;    
    --chart-5: 45 70% 50%;  
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11", "ss01", "ss03"; 
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.7; /* Increased base line-height for readability */
  }
  .font-pixel {
    font-family: var(--font-vt323), theme('fontFamily.mono');
    text-rendering: optimizeSpeed; 
    image-rendering: pixelated; 
    image-rendering: -moz-crisp-edges; 
    image-rendering: crisp-edges; 
    -ms-interpolation-mode: nearest-neighbor; 
  }
  /* Enhanced general link hover/focus states */
  a {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background rounded-sm;
  }
  a:not(.button):not([class*="no-underline"]) { 
    @apply text-primary hover:text-primary/80 hover:underline;
  }
}

/* Custom Button Styles for Heroic Fantasy - Light Theme */
@layer components {
  .btn-primary-action { /* Main Call to Action - Dark Brown */
    @apply bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg transition-all duration-150 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }
  .btn-secondary-action { /* Secondary Action - Emerald Green */
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-sm hover:shadow-md transition-all duration-150 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }
  .button[data-variant="destructive"] {
     @apply focus-visible:ring-destructive;
  }
}

@layer utilities {
  .styled-scrollbar::-webkit-scrollbar {
    width: 10px; 
    height: 10px;
  }
  .styled-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.6); 
    border-radius: 0px; 
    border: 2px solid hsl(var(--card)); 
  }
  .styled-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.8);
  }
  .styled-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--background) / 0.7); 
    border-radius: 0px;
  }

  /* Quiz Animations */
  @keyframes pulse-correct { 
    0%, 100% { transform: scale(1); box-shadow: 0 0 0px hsl(var(--secondary) / 0.4); }
    50% { transform: scale(1.03); box-shadow: 0 0 10px 2px hsl(var(--secondary) / 0.5); }
  }
  .animate-button-correct-pulse {
    animation: pulse-correct 0.6s ease-in-out;
  }

  @keyframes glow-card-correct { 
    0%, 100% { border-color: hsl(var(--border)); box-shadow: none; }
    50% { border-color: hsl(var(--secondary)); box-shadow: 0 0 15px hsl(var(--secondary) / 0.3); }
  }
  .animate-card-correct-glow {
    animation: glow-card-correct 0.8s ease-in-out;
  }

  @keyframes coin-bonus-animation {
    0% { opacity: 0; transform: translateY(20px) scale(0.8); }
    20% { opacity: 1; transform: translateY(0) scale(1); }
    80% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(-40px) scale(1.1); }
  }
  .coin-bonus-animate {
    animation: coin-bonus-animation 1.5s ease-out forwards;
  }
}
    
    